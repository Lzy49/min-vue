# vue3 是如何运行的
1. 调用 createApp 函数 在函数中传入 一个 组件 
2. createApp 运行 -> 创建一个 app 对象
   1. _component： 利用 createApp 传入的 vue 组件 生成 一个 
   2. mount：绑定DOM函数
      1. 生成虚拟根节点
         1. mount 函数 接收一个 `rootContainer` 根DOM
         2. 利用 `rootContainer` 获取到实际DOM
         3. 生成vnode
      2. render
         1. 调用 path 循环处理每一个传入的节点。
            1. 给予 type 做类型区分
               1. 文字 直接处理
               2. 组件 mountComponent 处理
                  1. 创建 component instance 对象
                  2. 处理 setup component
                     1. 初始化 props
                     2. 初始化 slots
                     3. 调用 setup() 拿到返回值处理
                        1. 创建代理对象 , 绑定到 instance 对象
                        2. 创建上下文对象（props,data,)
                        3. 执行 setup 返回一个值
                           1. object 将对象 生成一个代理对象 赋值给 上下文对象 （解构ref）
                           2. 函数 当作 render 函数
                     4. 寻找 render 函数，进行解包
               3. el 调用创建方法创建并绑定在其父节点上（最上层绑定在 mount 接收节点上）
               4. 子节点 ，递归调用 path 
   3. 渲染成功
## 函数调用
1. 调用 createApp 返回
   1. 闭包 rootComponent （顶级组件） 
   2. 返回 mount 函数
2. 调用 mount
   1. 初始化 rootContainer -> DOM
   2. 调用 createVnode 接收 rootComponent
      1. 创建 type 表示 element 
      2. 创建 props 表示 上层传来的值
      3. 创建 children 表示 子元素
      4. 创建 shapeFlag 为 类型 使用 shapeFlags 思想 利用二进制数做多类型并处理
         1. 判断子节点为其增加 子节点类型。
   3. 调用 render 函数 对 createVnode 初始化的 vnode 进行一个处理 调用 path 函数处理
      1. 调用 path 判断组件类型
         1. Component 组件 调用 processComponent 处理
            1. 创建 主要的流程 利用 mountComponent 来处理 option 的内容，处理实例
               1. 利用 createComponentInstance 创建实例
                  1. initEmit 来对 emit 函数进行一个初始化
               2. 利用 setupComponent 处理 setup 
                  1. initProps -> 吹 props
                  2. initSlots -> 处理 slots
                  3. setupStatefulComponent 将 setup 转换为状态 
                     1. 绑定 option proxy -> this
                     2. 运行 setup 
                     3. handlerSetupResult 处理 setup 的返回值 
                        1. function -> render
                        2. object -> setupState
                     4. finishSetupComponent 将 render 绑定在 instance 上
               3. setupRenderEffect
                  1. 执行 instance.render 并绑定 this 值
                  2. 调用 path 传入 instance.render  返回值 和 上一层 el -> 进入更新el组
                  3. 绑定 instance.vnode.el = instance.render // 当前组件 el
         2. Elment  调用 processElement 处理
            1. 调用 mountElement 处理
               1. document.createElement 创建 节点 
               2. 循环 props 
                  1. 如果是 on 开头的就是 事件 使用 addEventListener 绑定
                  2. 其他 setAttribute 绑定
               3. 判断 shapeFlag 处理 children
                  1. text : el.textContent = children; 
                  2. Array : mountChildren(children, el)
                     1. 循环 children 调用 path
               4. 赋值给 vnode.el
               5. container 添加新的 el
         3. Text 调用 processText 处理
            1. createTextNode 创建 文字节点
            2. 赋值给 vnode.el
            3. container.append 新节点
         4. Fragment 调用 processFragment 
            1. 调用 mountChildren 将 当前的 el 容器传入
               1. 循环 children 调用 path

